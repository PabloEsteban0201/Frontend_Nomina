<header><app-header></app-header></header>
<div class="principal">
    <div class="vista">
        <div class="titulo">
            <h1 class="title-history">Detalle Nomina</h1>
        </div>
        <div class="contenido">
            <div class="card table-reported-pays">
                <p-table [value]="detailsPayments" dataKey="personalNumber" [tableStyle]="{ 'min-width': '50rem' }">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>NÃºmero personal</th>
                            <th>Salario</th>
                            <th>Total Beneficios</th>
                            <th>Total Licencias</th>
                            <th>Total Impuestos</th>
                            <th>Total Retenciones</th>
                            <th>Descuentos</th>
                            <th>Adiciones</th>
                            <th>Total</th>
                            <th>Ver Detalles de Pago</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-payment>
                        <tr>
                            <td>{{ payment.namePerson }}</td>
                            <td>{{ payment.lastname }}</td>
                            <td>{{ payment.personalNumber }} {{payment.currency}}</td>
                            <td>{{ payment.salary }} {{payment.currency}}</td>
                            <td>{{ payment.totalBenefits }} {{payment.currency}}</td>
                            <td>{{ payment.totalLicenses }} {{payment.currency}}</td>
                            <td>{{ payment.totalTaxes }} {{payment.currency}}</td>
                            <td>{{ payment.totalRetentions }} {{payment.currency}}</td>
                            <td>{{ payment.discounts }} {{payment.currency}}</td>
                            <td>{{ payment.additions }} {{payment.currency}}</td>
                            <td>{{ payment.total }} {{payment.currency}}</td>
                            <td>
                                <button pButton pRipple icon="pi pi-search" class="p-button-rounded p-button-success"
                                    (click)="consultDetailsPayment(payment)"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
            <div class="exit-button">
                <button pButton pRipple label="Salir" class="p-button-success"
                    (click)="exit()" ></button>
            </div>
        </div>
    </div>
</div>
<footer><app-footer></app-footer></footer>

<p-dialog [(visible)]="detailsDialog" [style]="{ width: '450px'}" header="Detalles de Pago"
    [modal]="true" styleClass="p-fluid">
    <ng-template pTemplate="content">
        <div *ngFor="let concept of paymentConcepts.payConcepts" >
            {{concept.nameConcept}}: {{concept.amount}}&nbsp; {{paymentConcepts.currency}}
        </div>
    </ng-template>
    <ng-template pTemplate="footer">
        <button pButton pRipple label="Salir" icon="pi pi-times" class="p-button-text"
            (click)="hideDialog()"></button>
    </ng-template>
</p-dialog>
